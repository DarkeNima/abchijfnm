<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚úÖ Share ‡∑É‡∑Ñ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Style */
        body { font-family: 'Poppins', sans-serif; background-color: #1a1a2e; color: #ffffff; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .container { background-color: #2e2e50; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); max-width: 500px; width: 100%; text-align: center; }
        h1 { color: #ffcc00; margin-bottom: 20px; font-size: 1.8em; }
        .share-instructions { background-color: #1a1a2e; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .share-instructions p { margin: 10px 0; font-size: 1.1em; }
        .share-instructions strong { color: #ff6b6b; font-size: 1.5em; }
        
        /* New Section for Displaying User Info */
        .user-info { 
            text-align: left; 
            margin-bottom: 20px; 
            padding: 10px 20px;
            background-color: #3e3e6b;
            border-radius: 8px;
            font-size: 0.9em;
        }
        .user-info p { margin: 5px 0; color: #cccccc; }
        .user-info strong { color: #ffffff; font-weight: 700; }

        .whatsapp-btn { background-color: #25D366; color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 1.2em; font-weight: bold; cursor: pointer; transition: background-color 0.3s; text-decoration: none; display: block; margin-top: 20px; }
        .whatsapp-btn:hover { background-color: #128C7E; }
        .status-message { margin-top: 30px; padding: 15px; border-radius: 5px; font-weight: bold; display: none; }
        .success { background-color: #007a47; color: #99ff99; }
        .pending { background-color: #ffcc00; color: #1a1a2e; }
        
        /* Progress Bar Styles */
        #progressBarContainer { margin-top: 20px; width: 100%; background-color: #3e3e6b; border-radius: 5px; overflow: hidden; }
        #progressBar { height: 25px; background-color: #e60073; width: 0%; text-align: center; line-height: 25px; color: white; transition: width 0.3s; }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="mainTitle">üöÄ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª üöÄ</h1>

        <div class="user-info">
            <p><strong>‡∂î‡∂∂‡∑ö ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î:</strong></p>
            <p>ID: <span id="displayFFId">N/A</span></p>
            <p>Name: <span id="displayName">N/A</span></p>
            <p>Region: <span id="displayRegion">N/A</span></p>
            <p>Membership: <span id="displayMembership">N/A</span></p>
        </div>
        
        <div id="pendingView">
            <div class="share-instructions">
                <p>‡∂î‡∂∂‡∂ú‡∑ö Giveaway ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß, ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂∏‡∑ô‡∂∏ ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫</p>
                <p>‡∂¥‡∑Ñ‡∂≠ ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª **WhatsApp Groups 6 ‡∂ö‡∂ß** Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
                <p>‡∂î‡∂∂ Share ‡∂ö‡∑Ö ‡∂¥‡∑É‡∑î **< Back** ‡∂ë‡∂∂‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±.</p>
            </div>

            <a id="whatsappShareLink" class="whatsapp-btn" target="_blank">üì≤ WhatsApp ‡∂î‡∑É‡∑ä‡∑É‡∑ö Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</a>
            
            <div id="progressBarContainer">
                <div id="progressBar">0/6 ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í</div>
            </div>

            <div id="statusPending" class="status-message pending">
                Share ‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±. 6 ‡∑Ä‡∂≠‡∑è‡∑Ä‡∂ö‡∑ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∑Ö ‡∑Ä‡∑í‡∂ß ‡∂î‡∂∂ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä ‡∑Ä‡∂±‡∑î ‡∂á‡∂≠!
            </div>
        </div>

        <div id="successView" class="status-message success" style="display: none;">
             ‡∑É‡∑î‡∂∑ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂∫‡∂±‡∑ä ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì! ‡∂î‡∂∂ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂ë‡∂ö‡∑ä‡∑Ä ‡∂á‡∂≠.
             <p style="margin-top: 10px; font-size: 0.9em;">(‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∑î‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∑Ä ‡∂á‡∂≠. ‡∂¢‡∂∫‡∂ú‡∑ä‚Äç‡∂ª‡∑è‡∑Ñ‡∂ö‡∂∫‡∂±‡∑ä ‡∑É‡∂≠‡∑í‡∂∫‡∂ö‡∂ß ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂ú‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö.)</p>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const SHARE_COUNT_KEY = 'ffGiveawayShareCount';
            const REQUIRED_SHARES = 6;
            
            const pendingView = document.getElementById('pendingView');
            const successView = document.getElementById('successView');
            const progressBar = document.getElementById('progressBar');
            const mainTitle = document.getElementById('mainTitle');
            
            // Display elements
            const displayFFId = document.getElementById('displayFFId');
            const displayName = document.getElementById('displayName');
            const displayRegion = document.getElementById('displayRegion');
            const displayMembership = document.getElementById('displayMembership');

            // 1. URL ‡∂ë‡∂ö‡∑ö ‡∂á‡∂≠‡∑í Free Fire ID ‡∑É‡∑Ñ ‡∂Ö‡∂±‡∑ô‡∂ö‡∑î‡∂≠‡∑ä ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏ 
            const urlParams = new URLSearchParams(window.location.search);
            const ffId = urlParams.get('ffId') || 'N/A';
            const playerName = urlParams.get('playerName') || 'N/A'; // ‡∂±‡∑Ä ‡∂Ø‡∂≠‡∑ä‡∂≠
            const playerRegion = urlParams.get('playerRegion') || 'N/A'; // ‡∂±‡∑Ä ‡∂Ø‡∂≠‡∑ä‡∂≠
            const membershipType = urlParams.get('membershipType') || 'N/A';
            
            // 1B. ‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏
            displayFFId.textContent = ffId;
            displayName.textContent = playerName;
            displayRegion.textContent = playerRegion;
            displayMembership.textContent = membershipType;


            // 2. WhatsApp Share Link ‡∂ë‡∂ö ‡∑É‡∑ê‡∂ö‡∑É‡∑ì‡∂∏ - Player Name ‡∑É‡∑Ñ Region ‡∂á‡∂≠‡∑î‡∑Ö‡∂≠‡∑ä ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
            // ‡∑É‡∂ß‡∑Ñ‡∂±: ‡∂î‡∂∂‡∑ö ‡∑É‡∑ê‡∂∂‡∑ë ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂Ö‡∂©‡∑Ä‡∑í‡∂∫‡∑ö URL ‡∂ë‡∂ö (https://ghjjncgj.vercel.app/) ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.
            const giveawayURL = window.location.origin + "/index.html"; 
            const shareText = encodeURIComponent(
                "üî• Free Fire Membership Giveaway! üî•\n" +
                "‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö‡∂∫‡∑è: " + playerName + " (" + playerRegion + " Region)\n" + // ‡∂±‡∑Ä ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î ‡∂ë‡∂ö‡∂≠‡∑î ‡∂ö‡∂ª ‡∂á‡∂≠
                "‡∂∏‡∂ß " + membershipType + " ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∂±‡∑ä‡∂± ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑î‡∂´‡∑è! ‡∂î‡∂∂‡∂≠‡∑ä ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä‡∂∏ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∂±‡∑ä‡∂±.\n" +
                "‚û°Ô∏è Link ‡∂ë‡∂ö: " + giveawayURL
            );
            const whatsappLink = "https://wa.me/?text=" + shareText;
            document.getElementById('whatsappShareLink').href = whatsappLink;

            // 3. Share Count ‡∂ë‡∂ö Local Storage ‡∑Ä‡∑ô‡∂≠‡∑í‡∂±‡∑ä ‡∂Ω‡∂∂‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏
            let shareCount = parseInt(localStorage.getItem(SHARE_COUNT_KEY)) || 0;
            
            // 4. ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä ‡∂¥‡∑ñ‡∂ª‡∂´‡∂∫ ‡∑Ä‡∂± ‡∑Ä‡∑í‡∂ß, ‡∂¥‡∂ª‡∑í‡∑Å‡∑ì‡∂Ω‡∂ö‡∂∫‡∑è ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂± ‡∑É‡∑ë‡∂∏ ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂ö‡∂∏ Count ‡∂ë‡∂ö ‡∑Ä‡∑ê‡∂©‡∑í ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
            if (document.referrer.includes('wa.me') || document.referrer.includes('whatsapp') || shareCount < REQUIRED_SHARES) {
                // ‡∑É‡∂ª‡∂Ω‡∂∏ ‡∂ö‡∑ä‚Äç‡∂ª‡∂∏‡∂∫: ‡∂∏‡∑ô‡∂∏ ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∂ß ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂± ‡∑É‡∑ë‡∂∏ ‡∑Ä‡∑í‡∂ß‡∂∏ (‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂¥‡∑ô‡∂ª) ‡∂ú‡∂´‡∂± ‡∑Ä‡∑ê‡∂©‡∑í ‡∂ö‡∂ª‡∂±‡∑ä‡∂±
                if (shareCount < REQUIRED_SHARES) {
                     shareCount++;
                     localStorage.setItem(SHARE_COUNT_KEY, shareCount);
                }
            }

            // 5. ‡∂≠‡∂≠‡∑ä‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏
            function updateStatus() {
                const percentage = (shareCount / REQUIRED_SHARES) * 100;
                progressBar.style.width = percentage + '%';
                progressBar.textContent = shareCount + '/' + REQUIRED_SHARES + ' ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í';

                if (shareCount >= REQUIRED_SHARES) {
                    // ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∂≠‡∑ä‡∑Ä‡∂∫
                    pendingView.style.display = 'none';
                    successView.style.display = 'block';
                    mainTitle.textContent = 'ü•≥ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î‡∂∫‡∑í!';
                    
                } else {
                    // ‡∂≠‡∑Ä‡∂∏ ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂±‡∑ê‡∂≠
                    pendingView.style.display = 'block';
                    successView.style.display = 'none';
                }
            }
            
            updateStatus();
        });
    </script>
</body>
</html>
