<!DOCTYPE html>
<html lang="si">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-width=1.0">
    <title id="pageTitle" data-key="title">üî• Free Fire Membership Giveaway üî•</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ------------------------------------- */
        /* 1. iOS Style & General Layout (CSS) */
        /* ------------------------------------- */
        :root {
            --ios-bg: #f5f5f7;
            --ios-card: #ffffff;
            --ios-blue: #007aff;
            --ios-text: #1c1c1e;
            --ios-border: #e0e0e0;
            --dark-bg: #1a1a2e;
            --dark-card: #2e2e50;
            --dark-text: #ffffff;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #a8c0ff, #3f2b96);
            color: var(--ios-text);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            position: relative;
        }

        .container {
            background-color: var(--ios-card);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.05);
            max-width: 450px;
            width: 100%;
            text-align: center;
            z-index: 10;
            transition: background-color 0.5s;
        }

        /* Verification View Styles (Dark Mode for Confirmation) */
        .verification-container {
            background-color: var(--dark-card);
            color: var(--dark-text);
        }
        .verification-container h1 {
            color: #ffcc00;
        }

        /* ------------------------------------- */
        /* 2. Snow Animation (CSS) */
        /* ------------------------------------- */
        .snow-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }

        /* ------------------------------------- */
        /* 3. Form Elements (Index View) */
        /* ------------------------------------- */
        h1 { margin-bottom: 5px; font-size: 1.6em; font-weight: 700; }
        p { color: #6d6d72; margin-bottom: 25px; font-size: 0.95em; }
        .form-group { text-align: left; margin-bottom: 15px; }
        label { display: block; margin-bottom: 6px; font-weight: 600; font-size: 0.9em; }
        input[type="text"], input[type="email"] { 
            width: 100%; padding: 12px; border: 1px solid var(--ios-border); border-radius: 8px; 
            background-color: var(--ios-bg); color: var(--ios-text); box-sizing: border-box; font-size: 1em;
        }
        .membership-options { display: flex; flex-direction: column; border: 1px solid var(--ios-border); border-radius: 10px; overflow: hidden; margin-top: 10px; }
        .radio-option { display: flex; justify-content: space-between; align-items: center; cursor: pointer; padding: 12px 15px; border-bottom: 1px solid var(--ios-border); }
        .radio-option:last-child { border-bottom: none; }
        .radio-option input[type="radio"] { appearance: none; -webkit-appearance: none; width: 20px; height: 20px; border: 2px solid var(--ios-border); border-radius: 50%; margin-right: 10px; position: relative; }
        .radio-option input[type="radio"]:checked { border-color: var(--ios-blue); box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.2); }
        .radio-option input[type="radio"]:checked::before { content: ''; position: absolute; top: 4px; left: 4px; width: 8px; height: 8px; background-color: var(--ios-blue); border-radius: 50%; }
        .radio-option label { flex-grow: 1; margin: 0; font-weight: 400; color: var(--ios-text); }
        .submit-btn { background-color: var(--ios-blue); color: #ffffff; padding: 15px 30px; border: none; border-radius: 10px; font-size: 1.1em; font-weight: 600; cursor: pointer; width: 100%; margin-top: 25px; }
        .terms { font-size: 0.8em; color: #8c8cbf; margin-top: 15px; }
        .lang-switch { position: absolute; top: 20px; right: 20px; z-index: 20; display: flex; background-color: rgba(255, 255, 255, 0.2); backdrop-filter: blur(5px); border-radius: 10px; padding: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .lang-switch button { background-color: transparent; color: #ffffff; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; }
        .lang-switch button.active { background-color: var(--ios-card); color: var(--ios-blue); }

        /* ------------------------------------- */
        /* 4. Verification Elements (Verification View) */
        /* ------------------------------------- */
        .share-instructions { background-color: #1a1a2e; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .share-instructions p { margin: 10px 0; font-size: 1.1em; color: #ffffff; }
        .share-instructions strong { color: #ff6b6b; font-size: 1.5em; }
        
        .user-info { 
            text-align: left; 
            margin-bottom: 20px; 
            padding: 10px 20px;
            background-color: #3e3e6b;
            border-radius: 8px;
            font-size: 0.9em;
        }
        .user-info p { margin: 5px 0; color: #cccccc; }
        .user-info strong { color: #ffffff; font-weight: 700; }
        
        .whatsapp-btn { background-color: #25D366; color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 1.2em; font-weight: bold; cursor: pointer; text-decoration: none; display: block; margin-top: 20px; }
        .whatsapp-btn:hover { background-color: #128C7E; }
        .status-message { margin-top: 30px; padding: 15px; border-radius: 5px; font-weight: bold; display: none; }
        .success { background-color: #007a47; color: #99ff99; }
        .pending { background-color: #ffcc00; color: #1a1a2e; }

        #progressBarContainer { margin-top: 20px; width: 100%; background-color: #3e3e6b; border-radius: 5px; overflow: hidden; }
        #progressBar { height: 25px; background-color: #e60073; width: 0%; text-align: center; line-height: 25px; color: white; transition: width 0.3s; }
    </style>
</head>
<body>
    
    <div class="snow-container" id="snowContainer"></div>

    <div class="lang-switch">
        <button id="lang-si" data-lang="si" class="active">‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω</button>
        <button id="lang-en" data-lang="en">English</button>
    </div>

    <div class="container" id="mainContainer">

        <div id="formView">
            <h1 data-key="main_heading">üíé Free Fire VIP Membership Giveaway üíé</h1>
            <p data-key="intro_text">Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±. ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ä‡∑Ö‡∂ü ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂ß ‡∂∫‡∂±‡∑ä‡∂±.</p>
            
            <form id="giveawayForm">
                <div class="form-group">
                    <label for="ffId" data-key="label_ffid">Free Fire ID:</label>
                    <input type="text" id="ffId" name="ffId" data-key="placeholder_ffid" placeholder="‡∂î‡∂∂‡∂ú‡∑ö Free Fire Player ID ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±" required>
                </div>
                
                <div class="form-group">
                    <label for="playerName" data-key="label_player_name">Player Name:</label>
                    <input type="text" id="playerName" name="playerName" data-key="placeholder_player_name" placeholder="‡∂î‡∂∂‡∂ú‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ (In-Game Name) ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±" required>
                </div>
                
                <div class="form-group">
                    <label for="email" data-key="label_email">Email ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫:</label>
                    <input type="email" id="email" name="email" data-key="placeholder_email" placeholder="‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∑ä ‡∂Ø‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö Email ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±" required>
                </div>
                
                <div class="form-group">
                    <label data-key="label_region">‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ (Region) ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:</label>
                    <div class="membership-options">
                        
                        <div class="radio-option">
                            <input type="radio" id="regionSriLanka" name="playerRegion" value="Sri Lanka" required>
                            <label for="regionSriLanka" data-key="region_sl">‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä (Sri Lanka)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionIndia" name="playerRegion" value="India" required>
                            <label for="regionIndia" data-key="region_in">‡∂â‡∂±‡∑ä‡∂Ø‡∑í‡∂∫‡∑è‡∑Ä (India)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionSingapore" name="playerRegion" value="Singapore" required>
                            <label for="regionSingapore" data-key="region_sg">‡∑É‡∑í‡∂Ç‡∂ú‡∂¥‡∑ä‡∂¥‡∑ñ‡∂ª‡∑î‡∑Ä (Singapore)</label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" id="regionBrazil" name="playerRegion" value="Brazil" required>
                            <label for="regionBrazil" data-key="region_br">‡∂∂‡∑ä‚Äç‡∂ª‡∑É‡∑ì‡∂Ω‡∂∫ (Brazil)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionIndonesia" name="playerRegion" value="Indonesia" required>
                            <label for="regionIndonesia" data-key="region_id">‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionThailand" name="playerRegion" value="Thailand" required>
                            <label for="regionThailand" data-key="region_th">‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)</label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" id="regionMENA" name="playerRegion" value="MENA" required>
                            <label for="regionMENA" data-key="region_mena">MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionEurope" name="playerRegion" value="Europe" required>
                            <label for="regionEurope" data-key="region_eu">‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionLATAM" name="playerRegion" value="LATAM" required>
                            <label for="regionLATAM" data-key="region_latam">LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionOther" name="playerRegion" value="Other" required>
                            <label for="regionOther" data-key="region_other">‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label data-key="label_membership">‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:</label>
                    
                    <div class="membership-options">
                        <div class="radio-option">
                            <input type="radio" id="monthly" name="membershipType" value="Monthly Membership" required>
                            <label for="monthly" data-key="mem_monthly">Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="weeklyLite" name="membershipType" value="Weekly Lite" required>
                            <label for="weeklyLite" data-key="mem_lite">Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="superVipWeekly" name="membershipType" value="Super VIP Weekly" required>
                            <label for="superVipWeekly" data-key="mem_super">Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)</label>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" data-key="submit_button">üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±</button>
                
                <p class="terms" data-key="terms_text">‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.</p>
            </form>
        </div>

        <div id="verificationView" style="display: none;">
            <h1 id="mainTitleVerif">üöÄ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª üöÄ</h1>

            <div class="user-info">
                <p><strong>‡∂î‡∂∂‡∑ö ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î:</strong></p>
                <p>ID: <span id="displayFFId">N/A</span></p>
                <p>Name: <span id="displayName">N/A</span></p>
                <p>Region: <span id="displayRegion">N/A</span></p>
                <p>Membership: <span id="displayMembership">N/A</span></p>
            </div>
            
            <div id="pendingView">
                <div class="share-instructions">
                    <p>‡∂î‡∂∂‡∂ú‡∑ö Giveaway ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß, ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂∏‡∑ô‡∂∏ ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫</p>
                    <p>‡∂¥‡∑Ñ‡∂≠ ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª **WhatsApp Groups 6 ‡∂ö‡∂ß** Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
                    <p>‡∂î‡∂∂ Share ‡∂ö‡∑Ö ‡∂¥‡∑É‡∑î **< Back** ‡∂ë‡∂∂‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±.</p>
                </div>

                <a id="whatsappShareLink" class="whatsapp-btn" target="_blank">üì≤ WhatsApp ‡∂î‡∑É‡∑ä‡∑É‡∑ö Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</a>
                
                <div id="progressBarContainer">
                    <div id="progressBar">0/6 ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í</div>
                </div>

                <div id="statusPending" class="status-message pending">
                    Share ‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±. 6 ‡∑Ä‡∂≠‡∑è‡∑Ä‡∂ö‡∑ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∑Ö ‡∑Ä‡∑í‡∂ß ‡∂î‡∂∂ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä ‡∑Ä‡∂±‡∑î ‡∂á‡∂≠!
                </div>
            </div>

            <div id="successView" class="status-message success" style="display: none;">
                ‡∑É‡∑î‡∂∑ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂∫‡∂±‡∑ä ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì! ‡∂î‡∂∂ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂ë‡∂ö‡∑ä‡∑Ä ‡∂á‡∂≠.
                <p style="margin-top: 10px; font-size: 0.9em;">(‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∑î‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∑Ä ‡∂á‡∂≠. ‡∂¢‡∂∫‡∂ú‡∑ä‚Äç‡∂ª‡∑è‡∑Ñ‡∂ö‡∂∫‡∂±‡∑ä ‡∑É‡∂≠‡∑í‡∂∫‡∂ö‡∂ß ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂ú‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö.)</p>
            </div>
        </div>

    </div>
    
    <script>
        // Global Variables for Translations
        const translations = {
            'si': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±. ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ä‡∑Ö‡∂ü ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂ß ‡∂∫‡∂±‡∑ä‡∂±.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': '‡∂î‡∂∂‡∂ú‡∑ö Free Fire Player ID ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ (In-Game Name) ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_email': 'Email ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫:',
                'placeholder_email': '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∑ä ‡∂Ø‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö Email ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                
                // Region Labels
                'label_region': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ (Region) ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'region_sl': '‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä (Sri Lanka)',
                'region_in': '‡∂â‡∂±‡∑ä‡∂Ø‡∑í‡∂∫‡∑è‡∑Ä (India)',
                'region_sg': '‡∑É‡∑í‡∂Ç‡∂ú‡∂¥‡∑ä‡∂¥‡∑ñ‡∂ª‡∑î‡∑Ä (Singapore)',
                'region_br': '‡∂∂‡∑ä‚Äç‡∂ª‡∑É‡∑ì‡∂Ω‡∂∫ (Brazil)',
                'region_id': '‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)',
                'region_th': '‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)',
                'region_mena': 'MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_eu': '‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)',
                'region_latam': 'LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_other': '‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)',
                
                // Membership Labels
                'label_membership': '‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'mem_monthly': 'Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)',
                'mem_lite': 'Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)',
                'mem_super': 'Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)',
                'submit_button': 'üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±',
                'terms_text': '‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.',
                'lang_si': '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω',
                'lang_en': 'English'
            },
            'en': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Fill in the details to join the Giveaway. Proceed to the next step to confirm your participation.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': 'Enter your Free Fire Player ID',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': 'Enter your Player Name (In-Game Name)',
                'label_email': 'Email Address:',
                'placeholder_email': 'Enter your Email for results notification',
                
                // Region Labels
                'label_region': 'Select your Region:',
                'region_sl': 'Sri Lanka',
                'region_in': 'India',
                'region_sg': 'Singapore',
                'region_br': 'Brazil',
                'region_id': 'Indonesia',
                'region_th': 'Thailand',
                'region_mena': 'MENA (Middle East / North Africa)',
                'region_eu': 'Europe',
                'region_latam': 'LATAM (Latin America)',
                'region_other': 'Other / Global',
                
                // Membership Labels
                'label_membership': 'Select the Membership type you wish to win:',
                'mem_monthly': 'Monthly Membership',
                'mem_lite': 'Weekly Lite',
                'mem_super': 'Super VIP Weekly',
                'submit_button': 'üéÅ Proceed to participate in the Giveaway',
                'terms_text': 'Terms and Conditions Apply.',
                'lang_si': 'Sinhala',
                'lang_en': 'English'
            }
        };

        // --- GLOBAL CONSTANTS ---
        const SHARE_COUNT_KEY = 'ffGiveawayShareCount';
        const REQUIRED_SHARES = 6;
        const SUBMITTED_DATA_KEY = 'ffGiveawaySubmittedData';


        // --- BHASHA MARU KIRIME KAARYAYA (Language Switch) ---
        function updateText(lang) {
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'TITLE' || element.id === 'pageTitle') {
                        document.title = translations[lang][key];
                    } else if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            document.getElementById('lang-si').classList.remove('active');
            document.getElementById('lang-en').classList.remove('active');
            document.getElementById('lang-' + lang).classList.add('active');
            document.documentElement.lang = lang;
            localStorage.setItem('selectedLang', lang);
        }

        // --- SNOW ANIMATION ---
        function createSnowflake() {
            const snowContainer = document.getElementById('snowContainer');
            if (!snowContainer) return;

            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');

            const size = Math.random() * 5 + 2;
            const startX = Math.random() * window.innerWidth;
            const duration = Math.random() * 10 + 5;
            const opacity = Math.random() * 0.7 + 0.3;

            snowflake.style.width = size + 'px';
            snowflake.style.height = size + 'px';
            snowflake.style.left = startX + 'px';
            snowflake.style.opacity = opacity;
            snowflake.style.animationDuration = duration + 's';
            snowflake.style.animationDelay = -Math.random() * duration + 's'; 

            snowContainer.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 20000);
        }

        // --- VERIFICATION VIEW LOGIC ---
        function setupVerificationView(data) {
            // Update container style to dark theme for verification
            document.getElementById('mainContainer').classList.remove('container');
            document.getElementById('mainContainer').classList.add('verification-container');

            // 1. Display User Info
            document.getElementById('displayFFId').textContent = data.ffId;
            document.getElementById('displayName').textContent = data.playerName;
            document.getElementById('displayRegion').textContent = data.playerRegion;
            document.getElementById('displayMembership').textContent = data.membershipType;

            // 2. Setup WhatsApp Share Link
            const giveawayURL = window.location.origin + window.location.pathname; // URL is now the same file
            const shareText = encodeURIComponent(
                "üî• Free Fire Membership Giveaway! üî•\n" +
                "‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö‡∂∫‡∑è: " + data.playerName + " (" + data.playerRegion + " Region)\n" +
                "‡∂∏‡∂ß " + data.membershipType + " ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∂±‡∑ä‡∂± ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑î‡∂´‡∑è! ‡∂î‡∂∂‡∂≠‡∑ä ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä‡∂∏ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∂±‡∑ä‡∂±.\n" +
                "‚û°Ô∏è Link ‡∂ë‡∂ö: " + giveawayURL
            );
            const whatsappLink = "https://wa.me/?text=" + shareText;
            document.getElementById('whatsappShareLink').href = whatsappLink;

            // 3. Update Share Count and Status
            let shareCount = parseInt(localStorage.getItem(SHARE_COUNT_KEY)) || 0;
            
            // A simplified way to ensure the count updates when the user returns
            const lastVisit = localStorage.getItem('lastVisitTime') || 0;
            const currentTime = new Date().getTime();

            // If they are returning to the verification view after a short gap (e.g., clicking share link)
            // and the count is not yet complete, we assume one more share was attempted.
            if (currentTime - lastVisit > 1000 && shareCount < REQUIRED_SHARES) { // 1 second gap check
                 shareCount++;
                 localStorage.setItem(SHARE_COUNT_KEY, shareCount);
            }
            localStorage.setItem('lastVisitTime', currentTime);


            function updateStatus() {
                const pendingView = document.getElementById('pendingView');
                const successView = document.getElementById('successView');
                const progressBar = document.getElementById('progressBar');
                const mainTitleVerif = document.getElementById('mainTitleVerif');

                const percentage = (shareCount / REQUIRED_SHARES) * 100;
                progressBar.style.width = percentage + '%';
                progressBar.textContent = shareCount + '/' + REQUIRED_SHARES + ' ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í';

                if (shareCount >= REQUIRED_SHARES) {
                    // Success View
                    pendingView.style.display = 'none';
                    successView.style.display = 'block';
                    mainTitleVerif.textContent = 'ü•≥ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î‡∂∫‡∑í!';
                    
                } else {
                    // Pending View
                    pendingView.style.display = 'block';
                    successView.style.display = 'none';
                }
            }
            
            updateStatus();
        }

        // --- MAIN INITIALIZATION & FORM HANDLING ---
        document.addEventListener('DOMContentLoaded', () => {
             // Load language
             const savedLang = localStorage.getItem('selectedLang') || 'si';
             updateText(savedLang);

             // Language switch event listeners
             document.getElementById('lang-si').addEventListener('click', () => updateText('si'));
             document.getElementById('lang-en').addEventListener('click', () => updateText('en'));

             // Snowflakes
             setInterval(createSnowflake, 300);

             const formView = document.getElementById('formView');
             const verificationView = document.getElementById('verificationView');
             const giveawayForm = document.getElementById('giveawayForm');
             
             // Check if submitted data exists in local storage (meaning user has completed form)
             const storedDataJSON = localStorage.getItem(SUBMITTED_DATA_KEY);

             if (storedDataJSON) {
                 // Load Verification View
                 const storedData = JSON.parse(storedDataJSON);
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(storedData);
             } else {
                 // Show Form View
                 formView.style.display = 'block';
                 verificationView.style.display = 'none';
             }

             // Form Submission Handler
             giveawayForm.addEventListener('submit', function(e) {
                 e.preventDefault();

                 const formData = new FormData(giveawayForm);
                 const data = {
                     ffId: formData.get('ffId'),
                     playerName: formData.get('playerName'), // Capture Player Name
                     email: formData.get('email'),
                     playerRegion: formData.get('playerRegion'), // Capture Region
                     membershipType: formData.get('membershipType')
                 };

                 // Store data for verification view
                 localStorage.setItem(SUBMITTED_DATA_KEY, JSON.stringify(data));
                 // Reset share count for new entry
                 localStorage.setItem(SHARE_COUNT_KEY, 0); 
                 
                 // Switch View
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(data);
             });
        });
    </script>
</body>
    </html>for="regionIndonesia" data-key="region_id">‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionThailand" name="playerRegion" value="Thailand" required>
                            <label for="regionThailand" data-key="region_th">‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)</label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" id="regionMENA" name="playerRegion" value="MENA" required>
                            <label for="regionMENA" data-key="region_mena">MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionEurope" name="playerRegion" value="Europe" required>
                            <label for="regionEurope" data-key="region_eu">‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionLATAM" name="playerRegion" value="LATAM" required>
                            <label for="regionLATAM" data-key="region_latam">LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionOther" name="playerRegion" value="Other" required>
                            <label for="regionOther" data-key="region_other">‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label data-key="label_membership">‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:</label>
                    
                    <div class="membership-options">
                        <div class="radio-option">
                            <input type="radio" id="monthly" name="membershipType" value="Monthly Membership" required>
                            <label for="monthly" data-key="mem_monthly">Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="weeklyLite" name="membershipType" value="Weekly Lite" required>
                            <label for="weeklyLite" data-key="mem_lite">Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="superVipWeekly" name="membershipType" value="Super VIP Weekly" required>
                            <label for="superVipWeekly" data-key="mem_super">Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)</label>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" data-key="submit_button">üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±</button>
                
                <p class="terms" data-key="terms_text">‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.</p>
            </form>
        </div>

        <div id="verificationView" style="display: none;">
            <h1 id="mainTitleVerif">üöÄ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª üöÄ</h1>

            <div class="user-info">
                <p><strong>‡∂î‡∂∂‡∑ö ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î:</strong></p>
                <p>ID: <span id="displayFFId">N/A</span></p>
                <p>Name: <span id="displayName">N/A</span></p>
                <p>Region: <span id="displayRegion">N/A</span></p>
                <p>Membership: <span id="displayMembership">N/A</span></p>
            </div>
            
            <div id="pendingView">
                <div class="share-instructions">
                    <p>‡∂î‡∂∂‡∂ú‡∑ö Giveaway ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß, ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂∏‡∑ô‡∂∏ ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫</p>
                    <p>‡∂¥‡∑Ñ‡∂≠ ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª **WhatsApp Groups 6 ‡∂ö‡∂ß** Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
                    <p>‡∂î‡∂∂ Share ‡∂ö‡∑Ö ‡∂¥‡∑É‡∑î **< Back** ‡∂ë‡∂∂‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±.</p>
                </div>

                <a id="whatsappShareLink" class="whatsapp-btn" target="_blank">üì≤ WhatsApp ‡∂î‡∑É‡∑ä‡∑É‡∑ö Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</a>
                
                <div id="progressBarContainer">
                    <div id="progressBar">0/6 ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í</div>
                </div>

                <div id="statusPending" class="status-message pending">
                    Share ‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±. 6 ‡∑Ä‡∂≠‡∑è‡∑Ä‡∂ö‡∑ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∑Ö ‡∑Ä‡∑í‡∂ß ‡∂î‡∂∂ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä ‡∑Ä‡∂±‡∑î ‡∂á‡∂≠!
                </div>
            </div>

            <div id="successView" class="status-message success" style="display: none;">
                ‡∑É‡∑î‡∂∑ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂∫‡∂±‡∑ä ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì! ‡∂î‡∂∂ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂ë‡∂ö‡∑ä‡∑Ä ‡∂á‡∂≠.
                <p style="margin-top: 10px; font-size: 0.9em;">(‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∑î‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∑Ä ‡∂á‡∂≠. ‡∂¢‡∂∫‡∂ú‡∑ä‚Äç‡∂ª‡∑è‡∑Ñ‡∂ö‡∂∫‡∂±‡∑ä ‡∑É‡∂≠‡∑í‡∂∫‡∂ö‡∂ß ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂ú‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö.)</p>
            </div>
        </div>

    </div>
    
    <script>
        // Global Variables for Translations
        const translations = {
            'si': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±. ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ä‡∑Ö‡∂ü ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂ß ‡∂∫‡∂±‡∑ä‡∂±.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': '‡∂î‡∂∂‡∂ú‡∑ö Free Fire Player ID ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ (In-Game Name) ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_email': 'Email ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫:',
                'placeholder_email': '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∑ä ‡∂Ø‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö Email ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                
                // Region Labels
                'label_region': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ (Region) ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'region_sl': '‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä (Sri Lanka)',
                'region_in': '‡∂â‡∂±‡∑ä‡∂Ø‡∑í‡∂∫‡∑è‡∑Ä (India)',
                'region_sg': '‡∑É‡∑í‡∂Ç‡∂ú‡∂¥‡∑ä‡∂¥‡∑ñ‡∂ª‡∑î‡∑Ä (Singapore)',
                'region_br': '‡∂∂‡∑ä‚Äç‡∂ª‡∑É‡∑ì‡∂Ω‡∂∫ (Brazil)',
                'region_id': '‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)',
                'region_th': '‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)',
                'region_mena': 'MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_eu': '‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)',
                'region_latam': 'LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_other': '‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)',
                
                // Membership Labels
                'label_membership': '‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'mem_monthly': 'Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)',
                'mem_lite': 'Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)',
                'mem_super': 'Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)',
                'submit_button': 'üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±',
                'terms_text': '‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.',
                'lang_si': '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω',
                'lang_en': 'English'
            },
            'en': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Fill in the details to join the Giveaway. Proceed to the next step to confirm your participation.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': 'Enter your Free Fire Player ID',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': 'Enter your Player Name (In-Game Name)',
                'label_email': 'Email Address:',
                'placeholder_email': 'Enter your Email for results notification',
                
                // Region Labels
                'label_region': 'Select your Region:',
                'region_sl': 'Sri Lanka',
                'region_in': 'India',
                'region_sg': 'Singapore',
                'region_br': 'Brazil',
                'region_id': 'Indonesia',
                'region_th': 'Thailand',
                'region_mena': 'MENA (Middle East / North Africa)',
                'region_eu': 'Europe',
                'region_latam': 'LATAM (Latin America)',
                'region_other': 'Other / Global',
                
                // Membership Labels
                'label_membership': 'Select the Membership type you wish to win:',
                'mem_monthly': 'Monthly Membership',
                'mem_lite': 'Weekly Lite',
                'mem_super': 'Super VIP Weekly',
                'submit_button': 'üéÅ Proceed to participate in the Giveaway',
                'terms_text': 'Terms and Conditions Apply.',
                'lang_si': 'Sinhala',
                'lang_en': 'English'
            }
        };

        // --- GLOBAL CONSTANTS ---
        const SHARE_COUNT_KEY = 'ffGiveawayShareCount';
        const REQUIRED_SHARES = 6;
        const SUBMITTED_DATA_KEY = 'ffGiveawaySubmittedData';


        // --- BHASHA MARU KIRIME KAARYAYA (Language Switch) ---
        function updateText(lang) {
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'TITLE' || element.id === 'pageTitle') {
                        document.title = translations[lang][key];
                    } else if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            document.getElementById('lang-si').classList.remove('active');
            document.getElementById('lang-en').classList.remove('active');
            document.getElementById('lang-' + lang).classList.add('active');
            document.documentElement.lang = lang;
            localStorage.setItem('selectedLang', lang);
        }

        // --- SNOW ANIMATION ---
        function createSnowflake() {
            const snowContainer = document.getElementById('snowContainer');
            if (!snowContainer) return;

            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');

            const size = Math.random() * 5 + 2;
            const startX = Math.random() * window.innerWidth;
            const duration = Math.random() * 10 + 5;
            const opacity = Math.random() * 0.7 + 0.3;

            snowflake.style.width = size + 'px';
            snowflake.style.height = size + 'px';
            snowflake.style.left = startX + 'px';
            snowflake.style.opacity = opacity;
            snowflake.style.animationDuration = duration + 's';
            snowflake.style.animationDelay = -Math.random() * duration + 's'; 

            snowContainer.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 20000);
        }

        // --- VERIFICATION VIEW LOGIC ---
        function setupVerificationView(data) {
            // Update container style to dark theme for verification
            document.getElementById('mainContainer').classList.remove('container');
            document.getElementById('mainContainer').classList.add('verification-container');

            // 1. Display User Info
            document.getElementById('displayFFId').textContent = data.ffId;
            document.getElementById('displayName').textContent = data.playerName;
            document.getElementById('displayRegion').textContent = data.playerRegion;
            document.getElementById('displayMembership').textContent = data.membershipType;

            // 2. Setup WhatsApp Share Link
            const giveawayURL = window.location.origin + window.location.pathname; // URL is now the same file
            const shareText = encodeURIComponent(
                "üî• Free Fire Membership Giveaway! üî•\n" +
                "‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö‡∂∫‡∑è: " + data.playerName + " (" + data.playerRegion + " Region)\n" +
                "‡∂∏‡∂ß " + data.membershipType + " ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∂±‡∑ä‡∂± ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑î‡∂´‡∑è! ‡∂î‡∂∂‡∂≠‡∑ä ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä‡∂∏ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∂±‡∑ä‡∂±.\n" +
                "‚û°Ô∏è Link ‡∂ë‡∂ö: " + giveawayURL
            );
            const whatsappLink = "https://wa.me/?text=" + shareText;
            document.getElementById('whatsappShareLink').href = whatsappLink;

            // 3. Update Share Count and Status
            let shareCount = parseInt(localStorage.getItem(SHARE_COUNT_KEY)) || 0;
            
            // A simplified way to ensure the count updates when the user returns
            const lastVisit = localStorage.getItem('lastVisitTime') || 0;
            const currentTime = new Date().getTime();

            // If they are returning to the verification view after a short gap (e.g., clicking share link)
            // and the count is not yet complete, we assume one more share was attempted.
            if (currentTime - lastVisit > 1000 && shareCount < REQUIRED_SHARES) { // 1 second gap check
                 shareCount++;
                 localStorage.setItem(SHARE_COUNT_KEY, shareCount);
            }
            localStorage.setItem('lastVisitTime', currentTime);


            function updateStatus() {
                const pendingView = document.getElementById('pendingView');
                const successView = document.getElementById('successView');
                const progressBar = document.getElementById('progressBar');
                const mainTitleVerif = document.getElementById('mainTitleVerif');

                const percentage = (shareCount / REQUIRED_SHARES) * 100;
                progressBar.style.width = percentage + '%';
                progressBar.textContent = shareCount + '/' + REQUIRED_SHARES + ' ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í';

                if (shareCount >= REQUIRED_SHARES) {
                    // Success View
                    pendingView.style.display = 'none';
                    successView.style.display = 'block';
                    mainTitleVerif.textContent = 'ü•≥ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î‡∂∫‡∑í!';
                    
                } else {
                    // Pending View
                    pendingView.style.display = 'block';
                    successView.style.display = 'none';
                }
            }
            
            updateStatus();
        }

        // --- MAIN INITIALIZATION & FORM HANDLING ---
        document.addEventListener('DOMContentLoaded', () => {
             // Load language
             const savedLang = localStorage.getItem('selectedLang') || 'si';
             updateText(savedLang);

             // Language switch event listeners
             document.getElementById('lang-si').addEventListener('click', () => updateText('si'));
             document.getElementById('lang-en').addEventListener('click', () => updateText('en'));

             // Snowflakes
             setInterval(createSnowflake, 300);

             const formView = document.getElementById('formView');
             const verificationView = document.getElementById('verificationView');
             const giveawayForm = document.getElementById('giveawayForm');
             
             // Check if submitted data exists in local storage (meaning user has completed form)
             const storedDataJSON = localStorage.getItem(SUBMITTED_DATA_KEY);

             if (storedDataJSON) {
                 // Load Verification View
                 const storedData = JSON.parse(storedDataJSON);
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(storedData);
             } else {
                 // Show Form View
                 formView.style.display = 'block';
                 verificationView.style.display = 'none';
             }

             // Form Submission Handler
             giveawayForm.addEventListener('submit', function(e) {
                 e.preventDefault();

                 const formData = new FormData(giveawayForm);
                 const data = {
                     ffId: formData.get('ffId'),
                     playerName: formData.get('playerName'), // Capture Player Name
                     email: formData.get('email'),
                     playerRegion: formData.get('playerRegion'), // Capture Region
                     membershipType: formData.get('membershipType')
                 };

                 // Store data for verification view
                 localStorage.setItem(SUBMITTED_DATA_KEY, JSON.stringify(data));
                 // Reset share count for new entry
                 localStorage.setItem(SHARE_COUNT_KEY, 0); 
                 
                 // Switch View
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(data);
             });
        });
    </script>
</body>
    </html>" data-key="region_id">‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionThailand" name="playerRegion" value="Thailand" required>
                            <label for="regionThailand" data-key="region_th">‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)</label>
                        </div>

                        <div class="radio-option">
                            <input type="radio" id="regionMENA" name="playerRegion" value="MENA" required>
                            <label for="regionMENA" data-key="region_mena">MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionEurope" name="playerRegion" value="Europe" required>
                            <label for="regionEurope" data-key="region_eu">‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionLATAM" name="playerRegion" value="LATAM" required>
                            <label for="regionLATAM" data-key="region_latam">LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="regionOther" name="playerRegion" value="Other" required>
                            <label for="regionOther" data-key="region_other">‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)</label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label data-key="label_membership">‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:</label>
                    
                    <div class="membership-options">
                        <div class="radio-option">
                            <input type="radio" id="monthly" name="membershipType" value="Monthly Membership" required>
                            <label for="monthly" data-key="mem_monthly">Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="weeklyLite" name="membershipType" value="Weekly Lite" required>
                            <label for="weeklyLite" data-key="mem_lite">Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)</label>
                        </div>
                        
                        <div class="radio-option">
                            <input type="radio" id="superVipWeekly" name="membershipType" value="Super VIP Weekly" required>
                            <label for="superVipWeekly" data-key="mem_super">Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)</label>
                        </div>
                    </div>
                </div>
                
                <button type="submit" class="submit-btn" data-key="submit_button">üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±</button>
                
                <p class="terms" data-key="terms_text">‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.</p>
            </form>
        </div>

        <div id="verificationView" style="display: none;">
            <h1 id="mainTitleVerif">üöÄ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∑ö ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª üöÄ</h1>

            <div class="user-info">
                <p><strong>‡∂î‡∂∂‡∑ö ‡∂≠‡∑ú‡∂ª‡∂≠‡∑î‡∂ª‡∑î:</strong></p>
                <p>ID: <span id="displayFFId">N/A</span></p>
                <p>Name: <span id="displayName">N/A</span></p>
                <p>Region: <span id="displayRegion">N/A</span></p>
                <p>Membership: <span id="displayMembership">N/A</span></p>
            </div>
            
            <div id="pendingView">
                <div class="share-instructions">
                    <p>‡∂î‡∂∂‡∂ú‡∑ö Giveaway ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß, ‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂∏‡∑ô‡∂∏ ‡∑É‡∂∂‡∑ê‡∂≥‡∑í‡∂∫</p>
                    <p>‡∂¥‡∑Ñ‡∂≠ ‡∂∂‡∑ú‡∂≠‡∑ä‡∂≠‡∂∏ ‡∂∑‡∑è‡∑Ä‡∑í‡∂≠‡∑è ‡∂ö‡∂ª **WhatsApp Groups 6 ‡∂ö‡∂ß** Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.</p>
                    <p>‡∂î‡∂∂ Share ‡∂ö‡∑Ö ‡∂¥‡∑É‡∑î **< Back** ‡∂ë‡∂∂‡∑ì‡∂∏‡∑ô‡∂±‡∑ä ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±.</p>
                </div>

                <a id="whatsappShareLink" class="whatsapp-btn" target="_blank">üì≤ WhatsApp ‡∂î‡∑É‡∑ä‡∑É‡∑ö Share ‡∂ö‡∂ª‡∂±‡∑ä‡∂±</a>
                
                <div id="progressBarContainer">
                    <div id="progressBar">0/6 ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í</div>
                </div>

                <div id="statusPending" class="status-message pending">
                    Share ‡∂ö‡∂ª ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂¥‡∑ê‡∂∏‡∑í‡∂´‡∑ô‡∂±‡∑ä‡∂±. 6 ‡∑Ä‡∂≠‡∑è‡∑Ä‡∂ö‡∑ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∑Ö ‡∑Ä‡∑í‡∂ß ‡∂î‡∂∂ ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä ‡∑Ä‡∂±‡∑î ‡∂á‡∂≠!
                </div>
            </div>

            <div id="successView" class="status-message success" style="display: none;">
                ‡∑É‡∑î‡∂∑ ‡∂¥‡∑ê‡∂≠‡∑î‡∂∏‡∑ä! ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂∫‡∂±‡∑ä ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂± ‡∂Ω‡∂Ø‡∑ì! ‡∂î‡∂∂ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑è‡∂ª‡∑ä‡∂Æ‡∂ö‡∑Ä ‡∂ë‡∂ö‡∑ä‡∑Ä ‡∂á‡∂≠.
                <p style="margin-top: 10px; font-size: 0.9em;">(‡∂î‡∂∂‡∂ú‡∑ö ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∑É‡∑î‡∂ª‡∂ö‡∑ä‡∑Ç‡∑í‡∂≠‡∑Ä ‡∂á‡∂≠. ‡∂¢‡∂∫‡∂ú‡∑ä‚Äç‡∂ª‡∑è‡∑Ñ‡∂ö‡∂∫‡∂±‡∑ä ‡∑É‡∂≠‡∑í‡∂∫‡∂ö‡∂ß ‡∑Ä‡∂ª‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è ‡∂ú‡∂±‡∑î ‡∂Ω‡∑ê‡∂∂‡∑ö.)</p>
            </div>
        </div>

    </div>
    
    <script>
        // Global Variables for Translations
        const translations = {
            'si': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Giveaway ‡∂ë‡∂ö‡∂ß ‡∂ë‡∂ö‡∑ä‡∑Ä‡∑ì‡∂∏‡∂ß ‡∑Ä‡∑í‡∑É‡∑ä‡∂≠‡∂ª ‡∂¥‡∑î‡∂ª‡∑Ä‡∂±‡∑ä‡∂±. ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∂ä‡∑Ö‡∂ü ‡∂¥‡∑í‡∂∫‡∑Ä‡∂ª‡∂ß ‡∂∫‡∂±‡∑ä‡∂±.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': '‡∂î‡∂∂‡∂ú‡∑ö Free Fire Player ID ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö ‡∂±‡∑è‡∂∏‡∂∫ (In-Game Name) ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                'label_email': 'Email ‡∂Ω‡∑í‡∂¥‡∑í‡∂±‡∂∫:',
                'placeholder_email': '‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω ‡∂Ø‡∑ê‡∂±‡∑î‡∂∏‡∑ä ‡∂Ø‡∑ì‡∂∏‡∂ß ‡∂î‡∂∂‡∂ú‡∑ö Email ‡∂ë‡∂ö ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂±',
                
                // Region Labels
                'label_region': '‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ä‚Äç‡∂ª‡∂Ø‡∑ö‡∑Å‡∂∫ (Region) ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'region_sl': '‡∑Å‡∑ä‚Äç‡∂ª‡∑ì ‡∂Ω‡∂Ç‡∂ö‡∑è‡∑Ä (Sri Lanka)',
                'region_in': '‡∂â‡∂±‡∑ä‡∂Ø‡∑í‡∂∫‡∑è‡∑Ä (India)',
                'region_sg': '‡∑É‡∑í‡∂Ç‡∂ú‡∂¥‡∑ä‡∂¥‡∑ñ‡∂ª‡∑î‡∑Ä (Singapore)',
                'region_br': '‡∂∂‡∑ä‚Äç‡∂ª‡∑É‡∑ì‡∂Ω‡∂∫ (Brazil)',
                'region_id': '‡∂â‡∂±‡∑ä‡∂Ø‡∑î‡∂±‡∑ì‡∑É‡∑í‡∂∫‡∑è‡∑Ä (Indonesia)',
                'region_th': '‡∂≠‡∑è‡∂∫‡∑í‡∂Ω‡∂±‡∑ä‡∂≠‡∂∫ (Thailand)',
                'region_mena': 'MENA (‡∂∏‡∑ê‡∂Ø ‡∂¥‡∑ô‡∂ª‡∂Ø‡∑í‡∂ú/‡∂ã‡∂≠‡∑î‡∂ª‡∑î ‡∂Ö‡∂¥‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_eu': '‡∂∫‡∑î‡∂ª‡∑ù‡∂¥‡∂∫ (Europe)',
                'region_latam': 'LATAM (‡∂Ω‡∂≠‡∑í‡∂±‡∑ä ‡∂á‡∂∏‡∂ª‡∑í‡∂ö‡∑è‡∑Ä)',
                'region_other': '‡∑Ä‡∑ô‡∂±‡∂≠‡∑ä (Other / Global)',
                
                // Membership Labels
                'label_membership': '‡∂î‡∂∂‡∂ß ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß ‡∂Ö‡∑Ä‡∑Å‡∑ä‚Äç‡∂∫ Membership ‡∑Ä‡∂ª‡∑ä‡∂ú‡∂∫ ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:',
                'mem_monthly': 'Monthly Membership (‡∂∏‡∑è‡∑É‡∑í‡∂ö)',
                'mem_lite': 'Weekly Lite (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Lite)',
                'mem_super': 'Super VIP Weekly (‡∑É‡∂≠‡∑í‡∂¥‡∂≠‡∑è Super VIP)',
                'submit_button': 'üéÅ Giveaway ‡∂ë‡∂ö‡∂ß ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∑ì‡∂∏‡∂ß ‡∂â‡∂Ø‡∑í‡∂ª‡∑í‡∂∫‡∂ß ‡∂∫‡∂±‡∑ä‡∂±',
                'terms_text': '‡∂±‡∑í‡∂∫‡∂∏‡∂∫‡∂±‡∑ä ‡∑É‡∑Ñ ‡∂ö‡∑ú‡∂±‡∑ä‡∂Ø‡∑ö‡∑É‡∑í ‡∂Ö‡∂Ø‡∑è‡∑Ö ‡∑Ä‡∑ö.',
                'lang_si': '‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω',
                'lang_en': 'English'
            },
            'en': {
                'title': 'üî• Free Fire Membership Giveaway üî•',
                'main_heading': 'üíé Free Fire VIP Membership Giveaway üíé',
                'intro_text': 'Fill in the details to join the Giveaway. Proceed to the next step to confirm your participation.',
                
                // Input Labels
                'label_ffid': 'Free Fire ID:',
                'placeholder_ffid': 'Enter your Free Fire Player ID',
                'label_player_name': 'Player Name:',
                'placeholder_player_name': 'Enter your Player Name (In-Game Name)',
                'label_email': 'Email Address:',
                'placeholder_email': 'Enter your Email for results notification',
                
                // Region Labels
                'label_region': 'Select your Region:',
                'region_sl': 'Sri Lanka',
                'region_in': 'India',
                'region_sg': 'Singapore',
                'region_br': 'Brazil',
                'region_id': 'Indonesia',
                'region_th': 'Thailand',
                'region_mena': 'MENA (Middle East / North Africa)',
                'region_eu': 'Europe',
                'region_latam': 'LATAM (Latin America)',
                'region_other': 'Other / Global',
                
                // Membership Labels
                'label_membership': 'Select the Membership type you wish to win:',
                'mem_monthly': 'Monthly Membership',
                'mem_lite': 'Weekly Lite',
                'mem_super': 'Super VIP Weekly',
                'submit_button': 'üéÅ Proceed to participate in the Giveaway',
                'terms_text': 'Terms and Conditions Apply.',
                'lang_si': 'Sinhala',
                'lang_en': 'English'
            }
        };

        // --- GLOBAL CONSTANTS ---
        const SHARE_COUNT_KEY = 'ffGiveawayShareCount';
        const REQUIRED_SHARES = 6;
        const SUBMITTED_DATA_KEY = 'ffGiveawaySubmittedData';


        // --- BHASHA MARU KIRIME KAARYAYA (Language Switch) ---
        function updateText(lang) {
            document.querySelectorAll('[data-key]').forEach(element => {
                const key = element.getAttribute('data-key');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'TITLE' || element.id === 'pageTitle') {
                        document.title = translations[lang][key];
                    } else if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            document.getElementById('lang-si').classList.remove('active');
            document.getElementById('lang-en').classList.remove('active');
            document.getElementById('lang-' + lang).classList.add('active');
            document.documentElement.lang = lang;
            localStorage.setItem('selectedLang', lang);
        }

        // --- SNOW ANIMATION ---
        function createSnowflake() {
            const snowContainer = document.getElementById('snowContainer');
            if (!snowContainer) return;

            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');

            const size = Math.random() * 5 + 2;
            const startX = Math.random() * window.innerWidth;
            const duration = Math.random() * 10 + 5;
            const opacity = Math.random() * 0.7 + 0.3;

            snowflake.style.width = size + 'px';
            snowflake.style.height = size + 'px';
            snowflake.style.left = startX + 'px';
            snowflake.style.opacity = opacity;
            snowflake.style.animationDuration = duration + 's';
            snowflake.style.animationDelay = -Math.random() * duration + 's'; 

            snowContainer.appendChild(snowflake);

            setTimeout(() => {
                snowflake.remove();
            }, 20000);
        }

        // --- VERIFICATION VIEW LOGIC ---
        function setupVerificationView(data) {
            // Update container style to dark theme for verification
            document.getElementById('mainContainer').classList.remove('container');
            document.getElementById('mainContainer').classList.add('verification-container');

            // 1. Display User Info
            document.getElementById('displayFFId').textContent = data.ffId;
            document.getElementById('displayName').textContent = data.playerName;
            document.getElementById('displayRegion').textContent = data.playerRegion;
            document.getElementById('displayMembership').textContent = data.membershipType;

            // 2. Setup WhatsApp Share Link
            const giveawayURL = window.location.origin + window.location.pathname; // URL is now the same file
            const shareText = encodeURIComponent(
                "üî• Free Fire Membership Giveaway! üî•\n" +
                "‡∂ö‡∑ä‚Äç‡∂ª‡∑ì‡∂©‡∂ö‡∂∫‡∑è: " + data.playerName + " (" + data.playerRegion + " Region)\n" +
                "‡∂∏‡∂ß " + data.membershipType + " ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑í‡∂±‡∑è ‡∂ú‡∂±‡∑ä‡∂± ‡∂Ö‡∑Ä‡∑É‡∑ä‡∂Æ‡∑è‡∑Ä‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑î‡∂´‡∑è! ‡∂î‡∂∂‡∂≠‡∑ä ‡∂â‡∂ö‡∑ä‡∂∏‡∂±‡∑í‡∂±‡∑ä‡∂∏ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì ‡∑Ä‡∂±‡∑ä‡∂±.\n" +
                "‚û°Ô∏è Link ‡∂ë‡∂ö: " + giveawayURL
            );
            const whatsappLink = "https://wa.me/?text=" + shareText;
            document.getElementById('whatsappShareLink').href = whatsappLink;

            // 3. Update Share Count and Status
            let shareCount = parseInt(localStorage.getItem(SHARE_COUNT_KEY)) || 0;
            
            // Increment count only if returning from a potential share link and count is not complete
            // Since this is one file, we increment it upon entering the verification view.
            // Note: This simple method may increment even if they just reload the page.
            if (shareCount < REQUIRED_SHARES) {
                 // We increment the count here, as the user is "moving forward" from the form.
                 // The share button opens in a new tab, so they must manually return.
                 // We will rely on localStorage being stable.
            }


            function updateStatus() {
                // To accurately track sharing, we would usually check 'document.referrer', but this is unreliable.
                // We rely on the user clicking the link and coming back. Let's increment based on the button click + page load for simplicity.
                
                const percentage = (shareCount / REQUIRED_SHARES) * 100;
                progressBar.style.width = percentage + '%';
                progressBar.textContent = shareCount + '/' + REQUIRED_SHARES + ' ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´‡∂∫‡∑í';

                if (shareCount >= REQUIRED_SHARES) {
                    // Success View
                    document.getElementById('pendingView').style.display = 'none';
                    document.getElementById('successView').style.display = 'block';
                    document.getElementById('mainTitleVerif').textContent = 'ü•≥ ‡∑É‡∑Ñ‡∂∑‡∑è‡∂ú‡∑ì‡∂≠‡∑ä‡∑Ä‡∂∫ ‡∂≠‡∑Ñ‡∑Ä‡∑î‡∂ª‡∑î‡∂∫‡∑í!';
                    
                } else {
                    // Pending View
                    document.getElementById('pendingView').style.display = 'block';
                    document.getElementById('successView').style.display = 'none';
                }
            }

            // A simplified way to ensure the count updates when the user returns
            const lastVisit = localStorage.getItem('lastVisitTime') || 0;
            const currentTime = new Date().getTime();

            // If they are returning to the verification view after a short gap (e.g., clicking share link)
            // and the count is not yet complete, we assume one more share was attempted.
            // This is a common but flawed trick in simple share verification.
            if (currentTime - lastVisit > 1000 && shareCount < REQUIRED_SHARES) { // 1 second gap check
                 shareCount++;
                 localStorage.setItem(SHARE_COUNT_KEY, shareCount);
            }
            localStorage.setItem('lastVisitTime', currentTime);

            updateStatus();
        }

        // --- MAIN INITIALIZATION & FORM HANDLING ---
        document.addEventListener('DOMContentLoaded', () => {
             // Load language
             const savedLang = localStorage.getItem('selectedLang') || 'si';
             updateText(savedLang);

             // Language switch event listeners
             document.getElementById('lang-si').addEventListener('click', () => updateText('si'));
             document.getElementById('lang-en').addEventListener('click', () => updateText('en'));

             // Snowflakes
             setInterval(createSnowflake, 300);

             const formView = document.getElementById('formView');
             const verificationView = document.getElementById('verificationView');
             const giveawayForm = document.getElementById('giveawayForm');
             
             // Check if submitted data exists in local storage (meaning user has completed form)
             const storedDataJSON = localStorage.getItem(SUBMITTED_DATA_KEY);

             if (storedDataJSON) {
                 // Load Verification View
                 const storedData = JSON.parse(storedDataJSON);
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(storedData);
             } else {
                 // Show Form View
                 formView.style.display = 'block';
                 verificationView.style.display = 'none';
             }

             // Form Submission Handler
             giveawayForm.addEventListener('submit', function(e) {
                 e.preventDefault();

                 const formData = new FormData(giveawayForm);
                 const data = {
                     ffId: formData.get('ffId'),
                     playerName: formData.get('playerName'),
                     email: formData.get('email'),
                     playerRegion: formData.get('playerRegion'),
                     membershipType: formData.get('membershipType')
                 };

                 // Store data for verification view
                 localStorage.setItem(SUBMITTED_DATA_KEY, JSON.stringify(data));
                 // Reset share count for new entry
                 localStorage.setItem(SHARE_COUNT_KEY, 0); 
                 
                 // Switch View
                 formView.style.display = 'none';
                 verificationView.style.display = 'block';
                 setupVerificationView(data);
             });
        });
    </script>
</body>
</html>
